# Continuo-->Categorico
# mtcars:dataframe
# mpg:contiene valores numericos
ggplot(mtcars, aes(x = wt, y = mpg)) +  geom_point()
ggplot(mtcars, aes(x = wt, y = factor(mpg))) +  geom_point()

# Color: color=, genera una leyenda del color
ggplot(mtcars, aes(x = wt, y = mpg, color = disp)) +
  geom_point()

# Tamaño: size=, genera una leyenda del tamaño
ggplot(mtcars, aes(x = wt, y = mpg, size = disp)) +
  geom_point()
  
# Representa valores como puntos y añade linea de tendencia
(diamonds, aes(x = carat, y = price))+geom_point()+geom_smooth()

# Asignar objetos ggplot reutilizables
dia_plot <- ggplot(diamonds, aes(x = carat, y = price))

# Quitar bordes de error en linea de tendencia
dia_plot + geom_smooth(se = FALSE)

# Linetype: arg en aes() para setear el tipo de linea

# Agregar una linea de tendencia por grupo y a nivel dataset
  gplot(mtcars, aes(x = wt, y = mpg, col = cyl)) +
  geom_point()+ 
  geom_smooth(method=lm,se=FALSE)+   
  geom_smooth(aes(group=1),method=lm,se=FALSE,linetype=2)

# Uso de dataframes mas "normalizados"
  ggplot(iris.tidy, aes(x = Species, y = Value, color = Part)) +
  geom_jitter() +
  facet_grid(. ~ Measure)
  
# Uso del gather() y separate() transformar data->tidy
iris.tidy <- iris %>%
  gather(key, Value, -Species) %>%          #Desdobla cada columna
  separate(key, c("Part", "Measure"), "\\.") #Separa el campo generado por el gather dado un patron
# Generando iris.wide
iris.wide <- iris %>%
  gather(key, value, -Species, -Flower) %>%
  separate(key, c("Part","Measure"), "\\.") %>%
  spread(Measure, value)
  
# Aesthetic parameters
# geom_point(default): shape=19 (a solid circle with an outline the same colour as the inside)
# shape=1 (hollow)
# shape=16 (solid no outline)
# shape=21 (use both fill for the inside and col for the outline)

# Map cyl to alpha
ggplot(mtcars,aes(x=wt,y=mpg,alpha=cyl))+geom_point()

# Map cyl to shape 
ggplot(mtcars,aes(x=wt,y=mpg,shape=cyl))+geom_point()

# Map cyl to label
ggplot(mtcars,aes(x=wt,y=mpg,label=cyl))+geom_text() # para mostrar las etiquetas, se requiere el geom_text

############################################# ATRIBUTOS #########################################################3

# Define a hexadecimal color
my_color <- "#4ABEFF"
# my_color sobreescribe el color dado en aes()
ggplot(mtcars,aes(x=wt,y=mpg,color=cyl))+geom_point(color=my_color)

# shape>20 distingue, fill en aes() ; shape en geom()
# 3 - Plot 2, with fill instead of col aesthetic, plut shape and size attributes in geom layer.
ggplot(mtcars,aes(x=wt,y=mpg,fill=cyl))+geom_point(size=10,shape=23,color=my_color)


# Expand to draw text with label rownames(mtcars) and color red
ggplot(mtcars, aes(x = wt, y = mpg, fill = cyl,color=red)) + geom_text(label=rownames(mtcars),color="red")

